(this.webpackJsonpzyllabi=this.webpackJsonpzyllabi||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),c=a.n(l),u=(a(76),a(77),a(6)),s=a(9),o=a(7),i=a.n(o),m=a(10),p=a(16),d=a(109),b=a(63),f=a(67),E=a(108),v=function(e){var t=e.size;return r.a.createElement(E.a,{animation:"border",role:"status",size:t},r.a.createElement("span",{className:"sr-only"},"Loading..."))},y=function(e){var t=e.user,a=e.setUser,n=e.isUserResolved,l=Object(s.f)(),c=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),window.gapi&&window.gapi.load("auth2",(function(){var e=window.gapi.auth2.getAuthInstance();if(null!=e){e.signIn({scope:"profile email"}).then((function(t){var n=t.getBasicProfile();a({id:n.getId(),idToken:e.currentUser.get().getAuthResponse().id_token,name:n.getName(),email:n.getEmail()})}))}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("nav",{className:"navbar","aria-labelledby":"primary-navigation"},r.a.createElement(d.a,null,r.a.createElement(p.b,{to:"/"},"Zyllabi"),r.a.createElement("div",{className:"navbar-menu"},!n&&r.a.createElement("div",{className:"loading-center"},r.a.createElement(v,{size:"sm"})),!t&&n&&r.a.createElement(b.a,{variant:"outline-dark",onClick:c,size:"sm"},"Login"),t&&n&&r.a.createElement(f.a,null,r.a.createElement(f.a.Toggle,{variant:"outline-dark",size:"sm"},"User"," "),r.a.createElement(f.a.Menu,null,r.a.createElement(f.a.Header,null,r.a.createElement("strong",null,t.name)),r.a.createElement(f.a.Item,{onClick:function(){return l.push("/")}},"Home"),r.a.createElement(f.a.Item,{onClick:function(){return l.push("/profile")}},"Profile"),r.a.createElement(f.a.Item,{onClick:function(){return l.push("/departments")}},"Database"),r.a.createElement(f.a.Item,{onClick:function(e){if(e.preventDefault(),window.gapi){var t=window.gapi.auth2.getAuthInstance();null!=t&&t.signOut().then(t.disconnect()).then(a(null)).then(l.push("/"))}}},"Logout"))))))},h=a(13),g=a.n(h),O={getAllDepartments:function(){var e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/departments");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addDepartment:function(){var e=Object(m.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={name:t},e.next=3,g.a.post("/api/departments",a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=a(110),N=function(e){var t=e.variant,a=e.message,n=e.setMessage;return setTimeout((function(){n("")}),3500),r.a.createElement(j.a,{variant:t},a)},S=a(114),C=function(e){var t=e.courseDepartments,a=e.onSubmitCourse,n=e.onCourseDeptChanged,l=e.onCourseNumberChanged;return r.a.createElement(S.a,{className:"home-form",onSubmit:a,inline:!0},r.a.createElement(S.a.Group,{className:"home-form-group",controlId:"departments"},r.a.createElement(S.a.Control,{className:"home-form-department",as:"select",onChange:n},r.a.createElement("option",{value:""},"Course Department"),t.map((function(e){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement(S.a.Control,{className:"home-form-course-number",type:"text",onChange:l,placeholder:"Course Number"}),r.a.createElement(b.a,{className:"home-form-submit",variant:"light",type:"submit"},"Submit")))},w=function(){var e=Object(n.useState)([{id:0,value:"",courseString:"Course Department"}]),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(u.a)(c,2),i=o[0],m=o[1],b=Object(n.useState)(""),f=Object(u.a)(b,2),E=f[0],v=f[1],y=Object(n.useState)(""),h=Object(u.a)(y,2),g=h[0],j=h[1],S=Object(s.f)();Object(n.useEffect)((function(){O.getAllDepartments().then((function(e){e.sort((function(e,t){return e.name>t.name?1:-1})),l(e.sort((function(e,t){return e.name-t.name})))}))}),[]);return r.a.createElement(d.a,null,r.a.createElement("div",{className:"home"},r.a.createElement("h1",{className:"home-header-main"},"zyllabi"),r.a.createElement("p",{className:"home-description"},"A crowd-sourced database of UC Irvine course syllabi."),r.a.createElement("h2",{className:"home-header-find"},"Find a course:"),!(""===g)&&r.a.createElement(N,{variant:"danger",message:g,setMessage:j}),r.a.createElement(C,{courseDepartments:a,onSubmitCourse:function(e){e.preventDefault(),""!==i||""!==E?""!==i?""!==E?S.push("/syllabi/".concat(i.toUpperCase(),"/").concat(E.toUpperCase())):j("Please add a course number."):j("Please add a course department."):j("Please add a course department AND a course number.")},onCourseDeptChanged:function(e){var t=e.target;return m(t.value)},onCourseNumberChanged:function(e){var t=e.target;return v(t.value)}}),r.a.createElement("p",{className:"home-example"},"e.g. MATH 2A"),r.a.createElement("p",{className:"home-to-database"},"...or click ",r.a.createElement(p.b,{to:"/departments"},"here")," to look through the database!")))},k=a(111),x=a(68),D={getUserContributions:function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat("/api/user","/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I={getAllSyllabi:function(){var e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/syllabi");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getSyllabus:function(){var e=Object(m.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat("/api/syllabi","/").concat(t,"/").concat(a));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),addSyllabus:function(){var e=Object(m.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("/api/syllabi",t,{headers:{Authorization:a.idToken}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),editSyllabus:function(){var e=Object(m.a)(i.a.mark((function e(t,a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.patch("".concat("/api/syllabi","/").concat(t),n,{headers:{Authorization:a.idToken}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),deleteSyllabus:function(){var e=Object(m.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.delete("".concat("/api/syllabi","/").concat(t),{headers:{Authorization:a.idToken}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},U=a(113),q=["Fall","Winter","Spring","Summer"],A=["2016","2017","2018","2019","2020"],T=function(e){var t=e.syllabus,a=e.handler,l=Object(n.useState)(!1),c=Object(u.a)(l,2),s=c[0],o=c[1],i=Object(n.useState)(t.instructor),m=Object(u.a)(i,2),p=m[0],d=m[1],f=Object(n.useState)(t.quarter),E=Object(u.a)(f,2),v=E[0],y=E[1],h=Object(n.useState)(t.year.toString()),g=Object(u.a)(h,2),O=g[0],j=g[1],C=Object(n.useState)(""),w=Object(u.a)(C,2),k=w[0],x=w[1],D=function(){o(!1),d(t.instructor),y(t.quarter),j(t.year)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:"m-1",variant:"outline-light",onClick:function(){return o(!0)}},"Edit"),r.a.createElement(U.a,{show:s,onHide:D},r.a.createElement(U.a.Header,{closeButton:!0},r.a.createElement(U.a.Title,null,"Edit Syllabus for ",t.course.department.name," ",t.course.courseNumber)),r.a.createElement(U.a.Body,null,!(""===k)&&r.a.createElement(N,{variant:"danger",message:k,setMessage:x}),r.a.createElement(S.a,null,r.a.createElement(S.a.Group,{controlId:"instructor"},r.a.createElement(S.a.Label,null,"Instructor"),r.a.createElement(S.a.Control,{type:"text",value:p,onChange:function(e){var t=e.target;return d(t.value)}})),r.a.createElement(S.a.Group,{controlId:"quarter"},r.a.createElement(S.a.Label,null,"Quarter"),r.a.createElement(S.a.Control,{as:"select",value:v,onChange:function(e){var t=e.target;return y(t.value)}},q.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement(S.a.Group,{controlId:"year"},r.a.createElement(S.a.Label,null,"Year"),r.a.createElement(S.a.Control,{as:"select",value:O,onChange:function(e){var t=e.target;return j(t.value)}},A.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))))),r.a.createElement(U.a.Footer,null,r.a.createElement(b.a,{variant:"outline-dark",onClick:D},"Close"),r.a.createElement(b.a,{variant:"outline-success",onClick:function(){""!==p?""!==v?q.includes(v)?""!==O?A.includes(O)?(D(),a(t.id,{instructor:p,quarter:v,year:O})):x("Please specify a valid year."):x("Please specify a year."):x("Please specify a valid quarter (Fall, Winter, Spring, or Summer)."):x("Please sepcify a quarter."):x("Please specify an instructor.")}},"Save"))))},z=function(e){var t=e.syllabus,a=e.handler,l=Object(n.useState)(!1),c=Object(u.a)(l,2),s=c[0],o=c[1],i=function(){return o(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:"m-1",variant:"outline-light",onClick:function(){return o(!0)}},"Delete"),r.a.createElement(U.a,{show:s,onHide:i},r.a.createElement(U.a.Header,{closeButton:!0},r.a.createElement(U.a.Title,null,"Delete")),r.a.createElement(U.a.Body,null,"Are you sure you want to delete this syllabus for ",r.a.createElement("strong",null,t.course.department.name," ",t.course.courseNumber),"?"),r.a.createElement(U.a.Footer,null,r.a.createElement(b.a,{variant:"outline-dark",onClick:i},"Close"),r.a.createElement(b.a,{variant:"outline-danger",onClick:function(){i(),a(t.id)}},"Delete"))))},P=function(e){var t=e.user,a=e.isUserResolved,l=Object(n.useState)([]),c=Object(u.a)(l,2),s=c[0],o=c[1],f=Object(n.useState)(!1),E=Object(u.a)(f,2),y=E[0],h=E[1];Object(n.useEffect)((function(){try{t&&D.getUserContributions(t.id).then((function(e){o(e.syllabiContributed),h(!0)}))}catch(e){console.log(e.message)}}),[t]);var g=function(){var e=Object(m.a)(i.a.mark((function e(a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!1),e.next=3,I.editSyllabus(a,t,n);case 3:r=e.sent,h(!0),o(s.map((function(e){return e.id===r.id?r:e})));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!1),e.next=3,I.deleteSyllabus(a,t);case 3:h(!0),o(s.filter((function(e){return e.id!==a})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a?r.a.createElement("div",{className:"profile"},r.a.createElement(d.a,null,!t&&r.a.createElement("p",{className:"text-center"},"Login to continue!"),t&&r.a.createElement("h1",null,"Your Contributions"),t&&!y&&r.a.createElement(v,{size:"lg"}),t&&y&&s.length>0&&r.a.createElement(k.a,{className:"table-custom-style text-center",responsive:!0,borderless:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Course"),r.a.createElement("th",null,"Instructor"),r.a.createElement("th",{className:"profile-table-quarter-header"},"Quarter/Year"),r.a.createElement("th",null,"URL"),r.a.createElement("th",null,"Options"))),r.a.createElement("tbody",null,s.map((function(e){var t=e.id,a=e.course.department.name,n=e.course.courseNumber,l=e.instructor,c=e.quarter,u=e.year,s=e.url;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement(p.b,{to:"/syllabi/".concat(a,"/").concat(n)},a," ",n)),r.a.createElement("td",null,l),r.a.createElement("td",{className:"profile-table-quarter-col"},c," ",u),r.a.createElement("td",null,r.a.createElement(b.a,{variant:"outline-light m-1",onClick:function(){return function(e){var t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)}(s)}},r.a.createElement(x.a,null))),r.a.createElement("td",null,r.a.createElement(T,{syllabus:e,handler:g}),r.a.createElement(z,{syllabus:e,handler:O})))})))),t&&y&&0===s.length&&r.a.createElement("div",null,"No Contributions"))):r.a.createElement("div",{className:"profile"},r.a.createElement(d.a,null,r.a.createElement(v,{size:"lg"})))},L={getSignedRequest:function(){var e=Object(m.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={fileName:t.name,fileType:t.type},e.next=3,g.a.post("".concat("/api/zyllabis3bucket","/sign-s3"),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),putSyllabus:function(){var e=Object(m.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":a.type}},e.next=3,g.a.put(t,a,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},F=a(112),G=function(e){var t=e.syllabi,a=e.syllabus,n=e.setSyllabus;return r.a.createElement(F.a,{className:"mr-2",title:"".concat(a.instructor," - ").concat(a.quarter," ").concat(a.year)},t.map((function(e){return r.a.createElement(f.a.Item,{key:e.id,onClick:function(){return n(e)}},e.instructor," - ",e.quarter," ",e.year)})))},H=function(e){var t=e.onSubmitSyllabus,a=Object(n.useState)(!1),l=Object(u.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(""),m=Object(u.a)(i,2),p=m[0],d=m[1],f=Object(n.useState)(""),E=Object(u.a)(f,2),v=E[0],y=E[1],h=Object(n.useState)(""),g=Object(u.a)(h,2),O=g[0],j=g[1],C=Object(n.useState)(null),w=Object(u.a)(C,2),k=w[0],x=w[1],D=Object(n.useState)(""),I=Object(u.a)(D,2),T=I[0],z=I[1],P=Object(s.g)().courseDept.toUpperCase(),L=Object(s.g)().courseNumber.toUpperCase(),F=function(){o(!1),d(""),y(""),j(""),x(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"primary",onClick:function(){return o(!0)}},"Add"),r.a.createElement(U.a,{show:c,onHide:F},r.a.createElement(U.a.Header,{closeButton:!0},r.a.createElement(U.a.Title,null,"Add Syllabus for ",P," ",L)),r.a.createElement(U.a.Body,null,!(""===T)&&r.a.createElement(N,{variant:"danger",message:T,setMessage:z}),r.a.createElement(S.a,null,r.a.createElement(S.a.Group,{controlId:"instructor"},r.a.createElement(S.a.Label,null,"Instructor (Last Name)"),r.a.createElement(S.a.Control,{type:"text",value:p,onChange:function(e){var t=e.target;return d(t.value)}})),r.a.createElement(S.a.Group,{controlId:"quarter"},r.a.createElement(S.a.Label,null,"Quarter"),r.a.createElement(S.a.Control,{as:"select",value:v,onChange:function(e){var t=e.target;return y(t.value)}},r.a.createElement("option",null),q.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement(S.a.Group,{controlId:"year"},r.a.createElement(S.a.Label,null,"Year"),r.a.createElement(S.a.Control,{as:"select",value:O,onChange:function(e){var t=e.target;return j(t.value)}},r.a.createElement("option",null),A.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"Upload (.pdf, .doc, .docx)"),r.a.createElement(S.a.File,{id:"upload",accept:".pdf, .doc, .docx",onChange:function(e){var t=e.target;return x(t.files[0])}})))),r.a.createElement(U.a.Footer,null,r.a.createElement(b.a,{variant:"secondary",onClick:F},"Close"),r.a.createElement(b.a,{variant:"primary",onClick:function(e){e.preventDefault(),""!==p?""!==v?q.includes(v)?""!==O?A.includes(O)?null!==k?(F(),t({department:P,courseNumber:L,instructor:p,quarter:v,year:O,file:k})):z("Please upload a syllabus."):z("Please specify a valid year."):z("Please specify a year."):z("Please specify a valid quarter (Fall, Winter, Spring, or Summer)."):z("Please specify a quarter."):z("Please specify an instructor.")}},"Submit"))))},M=function(e){var t=e.syllabus,a="https://view.officeapps.live.com/op/embed.aspx?src=".concat(t.url);return r.a.createElement("div",{className:"syllabus"},r.a.createElement("div",{className:"syllabus-heading"},r.a.createElement("p",{className:"syllabus-heading-info"},t.instructor," (",t.quarter," ",t.year,")"),r.a.createElement(b.a,{className:"syllabus-heading-button",onClick:function(){return function(e){var t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)}(t.url)},variant:"outline-success",size:"sm"},"Download")),r.a.createElement("div",{className:"syllabus-embed"},"application/pdf"===t.type&&r.a.createElement("iframe",{title:t.id,className:"syllabi-embed",src:t.url}),"application/pdf"!==t.type&&r.a.createElement("iframe",{title:t.id,src:a,className:"syllabi-embed"})))},R=function(e){var t=e.user,a=Object(n.useState)([]),l=Object(u.a)(a,2),c=l[0],o=l[1],p=Object(n.useState)(null),b=Object(u.a)(p,2),f=b[0],E=b[1],y=Object(n.useState)(!1),h=Object(u.a)(y,2),g=h[0],O=h[1],j=Object(n.useState)(""),S=Object(u.a)(j,2),C=S[0],w=S[1],k=Object(n.useState)(""),x=Object(u.a)(k,2),D=x[0],U=x[1],q=Object(s.g)().courseDept.toUpperCase(),A=Object(s.g)().courseNumber.toUpperCase();Object(n.useEffect)((function(){I.getSyllabus(q,A).then((function(e){o(e.sort((function(e,t){return t.year-e.year}))),E(e[0]),O(!0)})).catch((function(){O(!0)}))}),[q,A]);var T=function(){var e=Object(m.a)(i.a.mark((function e(a){var n,r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!1),e.next=4,L.getSignedRequest(a.file);case 4:return n=e.sent,r={department:a.department,courseNumber:a.courseNumber,instructor:a.instructor,quarter:a.quarter,year:a.year,url:n.url,fileType:a.file.type},e.next=8,I.addSyllabus(r,t);case 8:return l=e.sent,e.next=11,L.putSyllabus(n.signedRequest,a.file);case 11:o(c.concat(l).sort((function(e,t){return t.year-e.year}))),E(l),O(!0),U("Successfully uploaded syllabus. Go to your profile page to see your contributions."),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),O(!0),w(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();return g?r.a.createElement("div",{className:"syllabi"},r.a.createElement(d.a,{className:"syllabi-container"},!(""===C)&&r.a.createElement(N,{variant:"danger",message:C,setMessage:w}),!(""===D)&&r.a.createElement(N,{variant:"success",message:D,setMessage:U}),r.a.createElement("h1",{className:"syllabi-header"},q," ",A),c.length>0&&t&&r.a.createElement("div",{className:"syllabi-options"},c.length>0&&r.a.createElement(G,{syllabi:c,syllabus:f,setSyllabus:E}),r.a.createElement(H,{onSubmitSyllabus:T,user:t})),c.length>0&&!t&&r.a.createElement("div",{className:"syllabi-options"},c.length>0&&r.a.createElement(G,{syllabi:c,syllabus:f,setSyllabus:E})),!c.length&&t&&r.a.createElement("div",{className:"syllabi-options"},r.a.createElement(H,{onSubmitSyllabus:T,user:t})),f&&r.a.createElement(M,{syllabus:f,user:t}),r.a.createElement("p",{className:"syllabi-message"},!c.length&&!f&&r.a.createElement("p",null,"No syllabus found :(")))):r.a.createElement("div",{className:"syllabi"},r.a.createElement(d.a,null,r.a.createElement("h1",{className:"syllabi-header"},q," ",A),r.a.createElement(v,{size:"lg"})))},B=function(e){var t=e.department;return r.a.createElement("div",{className:"department-block"},r.a.createElement("p",{className:"department-header"},t.name),r.a.createElement("ul",{className:"department-list"},!t.courses.length&&r.a.createElement("p",null,"No syllabi yet!"),t.courses.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(p.b,{to:"/syllabi/".concat(t.name,"/").concat(e.courseNumber)},t.name," ",e.courseNumber))}))))},W=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),s=Object(u.a)(c,2),o=s[0],i=s[1],m=Object(n.useState)(!1),p=Object(u.a)(m,2),b=p[0],f=p[1],E=Object(n.useState)(""),y=Object(u.a)(E,2),h=y[0],g=y[1];return Object(n.useEffect)((function(){O.getAllDepartments().then((function(e){l(e),f(!0)})).catch((function(){g("There was an error fetching the database."),f(!0)}))}),[]),b?r.a.createElement("div",{className:"departments"},r.a.createElement(d.a,null,r.a.createElement("h1",null,"Departments"),!(""===h)&&r.a.createElement(N,{variant:"danger",message:h,setMessage:g}),r.a.createElement(S.a,null,r.a.createElement(S.a.Group,{controlId:"department"},r.a.createElement(S.a.Label,null,"Filter Departments"),r.a.createElement(S.a.Control,{type:"text",onChange:function(e){var t=e.target;return i(t.value)},placeholder:"e.g. MATH"}),r.a.createElement(S.a.Text,null,"NOTE: Type in a department as you would see it on WebSOC! For example, entering \u2019ics\u2019 won\u2019t work but \u2019i&c sci\u2019 will."))),!(""===o)&&a.filter((function(e){return e.name.startsWith(o.toUpperCase())})).map((function(e){return r.a.createElement(B,{key:e.id,department:e})})),""===o&&a.map((function(e){return r.a.createElement(B,{key:e.id,department:e})})))):r.a.createElement("div",{className:"departments"},r.a.createElement(d.a,null,r.a.createElement("h1",null,"Departments"),r.a.createElement(v,null)))},_=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement(d.a,{className:"text-center"},"About | GitHub | Contact"))},Y=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),o=Object(u.a)(c,2),i=o[0],m=o[1];return Object(n.useEffect)((function(){window.gapi&&window.gapi.load("auth2",(function(){window.gapi.auth2.init({client_id:"1089667889963-mrgklgo4nv76jinlt2bc1aiaj8iida48.apps.googleusercontent.com"}).then((function(){var e=window.gapi.auth2.getAuthInstance();if(e.isSignedIn.get()){var t=e.currentUser.get().getBasicProfile();l({id:t.getId(),idToken:e.currentUser.get().getAuthResponse().id_token,name:t.getGivenName(),email:t.getEmail()})}m(!0)}))}))}),[]),r.a.createElement("section",{className:"content-wrapper full-height"},r.a.createElement(y,{user:a,setUser:l,isUserResolved:i}),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/syllabi/:courseDept/:courseNumber"},r.a.createElement(R,{user:a})),r.a.createElement(s.a,{path:"/profile"},r.a.createElement(P,{user:a,isUserResolved:i})),r.a.createElement(s.a,{path:"/departments"},r.a.createElement(W,null)),r.a.createElement(s.a,{path:"/"},r.a.createElement(w,null))),r.a.createElement(_,null))};c.a.render(r.a.createElement(p.a,null,r.a.createElement(Y,null)),document.getElementById("root"))},71:function(e,t,a){e.exports=a(103)},76:function(e,t,a){},77:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.81e3faa6.chunk.js.map